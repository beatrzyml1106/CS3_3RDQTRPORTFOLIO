<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Q3 2nd Graded Exercise">
    <meta name="keywords" content="HTML Forms">
    <meta name="author" content="AL Mendoza">
    <title>Sample Form</title>
    <!-- updated external css link to show how to share it between repository -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../styles.css" />
    <link rel="icon" href="../../assets/pshslogo.png" sizes="32x32" type="image/png">
    <script src="script.js" defer></script>
   <style>
    body{
        padding: 25px;
        font-family: arial;
        width: 80%;
        margin-left: 10%;
        }

        input:focus {
    outline: 2px solid dodgerblue;
    background-color: #f0f8ff;
}


        .title {
            color: #5C6AC4;
        }

        fieldset:nth-child(2) {
             margin-top: 20px;
        }

        legend {
            background: black;
            color: yellow;
            padding: 5px;
        }
        label {
             margin: 5%;
        }

    </style>
  </head>
  <body>
     <header>
        <div>
            <img src="../../assets/pshslogo.png" alt="pshs logo" 
               title="The Official Logo" width="50px" height="50px" />
        </div>
        <nav class="navbar">
            <a href="../../index.html"> Home </a>
            <a href="registered.html"> Show Saved Accounts </a>
        </nav>
    </header>
    <section>
      <h1 class="title">Sign-up Page</h1>
      <form id="dForm" method="get">
        <fieldset>
          <legend>Your Credentials</legend><br/>
          <label> Student ID: 
            <input type="text" name="sid" id="sid" required onblur="checkEmpty(this)" />
          </label><br/><br/>
          <label> Full Name :
            <input type="text" name="name" id="name" required onblur="checkEmpty(this)" />
          </label><br/><br/>
          <label> Birthday :
            <input type="date" name="dob" id="dob" required onblur="checkEmpty(this)" />
          </label><br/><br/>
          <label> Email Address :
            <input type="text" name="emailadd" id="emailadd" required onblur="checkEmpty(this)"/> 
            </label><br/><br/>
            </fieldset>

        <fieldset>
            <label> Mobile Phone: 
                <input type="text" name="mp" id="mp" required onblur="checkEmpty(this)" />
              </label><br/><br/>
            <label> Grade Level:
                <select name="grade_level" id="gl" required onblur="checkEmpty(this)">
                    <option value="">--Select Grade--</option>
                    <option value="Grade 7">Grade 7</option>
                    <option value="Grade 8">Grade 8</option>
                    <option value="Grade 9">Grade 9</option>
                    <option value="Grade 10">Grade 10</option>
                    <option value="Grade 11">Grade 11</option>
                    <option value="Grade 12">Grade 12</option>
                </select>
                </label>
            <label>Intern or Extern:</label>
            <label>
              <input type="radio" name="status" value="Intern" required> Intern
            </label>
          <label>
              <input type="radio" name="status" value="Extern"> Extern
          </label><br/><br/>
            <label> Preferred Organization:
                <select name="org" id="org" required onblur="checkEmpty(this)">
                    <option value="">--Select Organization--</option>
                    <option value="Math Club">Math Club</option>
                    <option value="Likha">Likha</option>
                    <option value="Alianti">Alianti</option>
                    <option value="Himig Agham">Himig Agham</option>
                    <option value="Bake Club">Bake CLub</option>
                </select>
                </label><br/><br/>
            <label> Reason for your choice of club: 
            <textarea name="reason" rows="4" required onblur="checkEmpty(this)"> </textarea>
            </label>
        </fieldset>
        <fieldset>
          <legend>Action Buttons</legend>
          <button type="submit">Submit</button>
          <button type="reset">Reset</button>
          <button type="button" onclick="location.href='viewSignUps.html'">
            View Sign-Ups
        </button>
        </fieldset> 
      </form>
    </section>
    <script>

  document.getElementById("dForm").addEventListener("submit", function(e) {
    e.preventDefault();

    if (!confirm("Do you want to proceed?")) return;


    let signups = JSON.parse(localStorage.getItem("signups")) || [];
    let status = document.querySelector('input[name="status"]:checked').value;
    let signupData = {
      id: sid.value,
      name: name.value,
      email: emailadd.value,
      mobile: mp.value,
      grade: gl.value,
      club: org.value,
      status: status
    };


    signups.push(signupData);
    localStorage.setItem("signups", JSON.stringify(signups));

    alert("Sign-up saved");
    this.reset();
  });
    </script>
  </body>
</html>